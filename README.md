# bbfloc_v5.0

This is an experiment tailored for infant and child subjects - that integrates dynamic and static stimuli of the following categories: faces, hands, cars, and scenes 

## a rundown:

each run: 7 mins and 36 seconds, w/ 6 seconds countdown, 3 reps per category with 8 sec baselines interspersed between every 3 blocks.

Static condition stimuli for faces, hands, cars, and scenes categories were adapted from Anthony Stigliani's fLoc package ([Stigliani et al](http://vpnl.stanford.edu/papers/StiglianiJNS2015.pdf)., 2015).
Static condition stimuli for the food category were adapted from Nidhi Jain's food stimuli ([Jain et al](https://www.nature.com/articles/s42003-023-04546-2)., 2023). 
Dynamic condition stimuli were generated by Beth Rispoli.
Heather Kosakowski's video stimuli ([Kosakowski et al](https://doi.org/10.17605/OSF.IO/JNX5A)., 2023) were adapted to be introduced as their own condition to test for replicability. 

Run CSVs are always generated in MATLAB, with each CSV being unique to a specific subject. These CSVs are then used by PsychoPy to execute the experiment. 

## setting up the experiment for a subject

**First** use the RUNME.m script to generate the run CSVs and data folders for the subject! Just input the subject's name, your laptop's user (whoami), and the run #.
**Second** load the Psychopy runME. Input their name, the laptop user, and the run number when prompted.

## set-up instructions 

Clone this repository onto the computer you will use to present stimuli. Add it to your desktop.

Software requirements: Matlab and PsychoPy (v2023.2.3); python version 3.12.6

## folder organization

- Three subfolders to be kept within **`bbfloc`**:
    - **`matlab`**: where the Matlab functions used to generate experiment runs will be kept.
        -  **`RUNME`**: is the main matlab script used to generate unique run CSVs each subject. 
    - **`psychopy`**: where the PsychoPy scripts for each experiment version will be kept.
        - Contains a folder called `countdown_imgs` where the countdown images for the experiment are kept.
        - Also contains a subfolder called `data` where the participant experiment data is kept.
            - Within this subfolder will be where folders for each participant are kept (e.g., `bb01`, `bb02`).
                  - Within each participant folder should be a unique CSV for each run. Parfiles and log files will be automatically saved in the subject's data folder. 
    - **`stimuli`**: contains two subfolders:
        - `dynamic_stimuli`: contains the dynamic stimuli, edited to have emoji fixations affixed onto them. Stimuli and blank baseline videos have a duration of 4s. 
        - `updated_static_stimuli`: contains the static stimuli (1080x1080p), edited to have emoji fixations affixed onto them. 
        - `saxestim_wfixation_grouped`: contains Heather Kosakowski's stimuli, edited to have emoji fixations affixed onto them. Stimuli have a duration of 2.6667s, blank baseline videos have 4s                   durations.  


## notes on getting psychopy to actually work on your mac
- we strongly recommend using psychopy version 2023.2.3 - any other versions give us wonky errors and crash the experiment prematurely
- if you get an iohub crash error: go to privacy and security in your System settings -> go to accessibility -> allow psychopy to control your laptop
